#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

COMMIT_MESSAGE_FILE=$1
COMMIT_MESSAGE=$(cat "$COMMIT_MESSAGE_FILE")

echo "â¤ï¸â€ğŸ©¹ Commit Message: $COMMIT_MESSAGE"

npx commitlint --edit $1

if [ $? -eq 0 ]; then
  echo "ğŸ”† Commit message meets the convention ğŸ”†"
  exit 0
else
  echo "âŒ Commit message does not meet the convention âŒ"
  exit 1
fi